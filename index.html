<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="Icons/Grain.webp">
    <title>Grics Rankings</title>
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background-color: #6da340;
    background-image: url('https://x.boardgamearena.net/data/themereleases/current/games/agricola/260123-1203/img/background.jpg');
    background-repeat: repeat;
    background-size: auto;
    min-height: 100vh;
    padding: 20px;
}

.nav-bar {
    max-width: 900px;
    margin: 0 auto 16px;
    display: flex;
    gap: 12px;
}

.nav-link {
    color: white;
    text-decoration: none;
    font-size: 0.95em;
    padding: 6px 14px;
    background: rgba(0, 0, 0, 0.25);
    border-radius: 6px;
    transition: background 0.2s;
}

.nav-link:hover {
    background: rgba(0, 0, 0, 0.4);
}

.nav-link.active {
    background: rgba(255, 255, 255, 0.25);
    font-weight: 600;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    border-radius: 12px;
    padding: 40px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

header {
    text-align: center;
    margin-bottom: 40px;
}

h1 {
    color: #333;
    font-size: 2.5em;
    margin-bottom: 10px;
}

.title-icon {
    height: 1em;
    width: auto;
    vertical-align: middle;
    margin-right: 4px;
}

.subtitle {
    color: #666;
    font-size: 1.1em;
}

.search-section {
    position: relative;
    margin-bottom: 30px;
}

#searchInput {
    width: 100%;
    padding: 15px 20px;
    font-size: 1.1em;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    outline: none;
    transition: border-color 0.3s;
}

#searchInput:focus {
    border-color: #8B6914;
}

.suggestions {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #e0e0e0;
    border-top: none;
    border-radius: 0 0 8px 8px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 1000;
    display: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.suggestions.active {
    display: block;
}

.suggestion-item {
    padding: 12px 20px;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.suggestion-item:hover {
    background: #f5f5f5;
}

.suggestion-item:last-child {
    border-bottom: none;
}

.suggestion-rank {
    font-size: 0.9em;
    color: #999;
    margin-right: 10px;
}

.suggestion-name {
    flex-grow: 1;
    color: #333;
}

.suggestion-pwr {
    font-weight: bold;
    color: #8B6914;
}

.results {
    margin-top: 30px;
}

.card-result {
    background: linear-gradient(135deg, #b8956a 0%, #8B6914 100%);
    color: white;
    padding: 30px;
    border-radius: 12px;
    animation: slideIn 0.3s ease-out;
    height: 346px;
    overflow: hidden;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.card-result-with-image {
    display: flex;
    gap: 24px;
    align-items: flex-start;
}

.card-result-with-image:has(.card-text-column) {
    align-items: stretch;
}

.card-image-container {
    flex-shrink: 0;
    display: flex;
    align-items: center;
}

.card-image-container img {
    height: 286px;
    width: auto;
    border-radius: 8px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
}

.card-text-column {
    flex-shrink: 0;
    width: 200px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.card-text-column .card-description {
    flex: 1;
    margin-bottom: 0;
    font-size: 0.9em;
}

.card-text-column .card-description-title {
    font-weight: bold;
    margin-bottom: 8px;
    font-size: 0.85em;
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.card-text-column .card-prerequisites {
    margin-bottom: 0;
    font-size: 0.85em;
}

.card-info {
    flex: 1;
    min-width: 0;
}

.card-header {
    margin-bottom: 20px;
}

.card-title-row {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    flex-wrap: wrap;
    margin-bottom: 10px;
}

.card-meta {
    display: flex;
    gap: 15px;
    font-size: 0.9em;
    opacity: 0.85;
    flex-wrap: wrap;
}

.card-type {
    background: rgba(255, 255, 255, 0.2);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
    text-transform: capitalize;
}

.card-id {
    font-family: 'Courier New', monospace;
    background: rgba(255, 255, 255, 0.2);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
}

.card-cost {
    background: rgba(255, 200, 100, 0.3);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
}

.card-vps {
    background: rgba(100, 200, 255, 0.3);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
}

.card-prerequisites {
    background: rgba(255, 220, 150, 0.2);
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 15px;
    border-left: 4px solid rgba(255, 200, 100, 0.5);
    font-size: 0.95em;
}

.card-prerequisites strong {
    color: rgba(255, 220, 150, 1);
}

.card-name {
    font-size: 2em;
    font-weight: bold;
}

.card-rank {
    font-size: 1.5em;
    opacity: 0.9;
}

.card-description {
    background: rgba(255, 255, 255, 0.15);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    line-height: 1.6;
    backdrop-filter: blur(10px);
}

.card-description.no-desc {
    opacity: 0.6;
    font-style: italic;
}

.card-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
}

.stat {
    background: rgba(255, 255, 255, 0.2);
    padding: 15px;
    border-radius: 8px;
    backdrop-filter: blur(10px);
}

.stat-label {
    font-size: 0.85em;
    opacity: 0.9;
    margin-bottom: 5px;
}

.stat-value {
    font-size: 1.8em;
    font-weight: bold;
}

.stats-info {
    margin-top: 50px;
    padding: 20px;
    background: #f9f9f9;
    border-radius: 8px;
}

.stats-info h3 {
    color: #333;
    margin-bottom: 15px;
}

.stats-info ul {
    list-style: none;
}

.stats-info li {
    color: #666;
    margin-bottom: 10px;
    padding-left: 20px;
    position: relative;
}

.stats-info li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: #8B6914;
}

.no-results {
    text-align: center;
    color: #999;
    padding: 40px;
    font-size: 1.1em;
}

@media (max-width: 600px) {
    .container {
        padding: 20px;
    }

    h1 {
        font-size: 1.5em;
    }

    body {
        padding: 10px;
    }

    /* Top section compact */
    .top-section {
        padding: 15px;
        margin-bottom: 15px;
    }

    #searchInput {
        padding: 10px 14px;
        font-size: 0.95em;
    }

    /* Card result compact sizing */
    .card-result {
        height: auto;
        padding: 15px;
        overflow: visible;
    }

    .card-result-with-image {
        flex-direction: column;
        gap: 12px;
    }

    .card-image-container {
        justify-content: center;
        width: 100%;
    }

    .card-image-container img {
        height: auto;
        width: 100%;
        max-width: 100%;
    }

    .card-name {
        font-size: 1.3em;
    }

    .card-rank {
        font-size: 1.1em;
    }

    .card-header {
        margin-bottom: 10px;
    }

    .card-meta {
        gap: 8px;
        font-size: 0.8em;
    }

    .card-type, .card-id, .card-cost, .card-vps {
        padding: 2px 8px;
        font-size: 0.8em;
    }

    .card-description {
        padding: 12px;
        margin-bottom: 10px;
        font-size: 0.85em;
    }

    .card-stats {
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
    }

    .stat {
        padding: 8px;
    }

    .stat-label {
        font-size: 0.7em;
    }

    .stat-value {
        font-size: 1.2em;
    }

    /* Description not forced full height, wraps properly */
    .card-text-column {
        width: 100%;
        flex-shrink: 1;
        min-width: 0;
        flex-direction: row;
        flex-wrap: wrap;
    }

    .card-text-column .card-description {
        flex: none;
        width: 100%;
        overflow-wrap: break-word;
        word-wrap: break-word;
    }

    .card-result-with-image:has(.card-text-column) {
        align-items: flex-start;
    }

    /* Filter sidebar compact & collapsible */
    .filter-sidebar {
        max-width: none;
        padding: 12px;
        gap: 0;
    }

    .sidebar-title {
        font-size: 0.95em;
        margin-bottom: 0;
        cursor: pointer;
        user-select: none;
    }

    .sidebar-title::after {
        content: ' ▸';
        font-size: 0.8em;
    }

    .filter-sidebar.open .sidebar-title::after {
        content: ' ▾';
    }

    .filter-sidebar .filter-content {
        display: none;
        flex-direction: column;
        gap: 12px;
        margin-top: 12px;
    }

    .filter-sidebar.open .filter-content {
        display: flex;
    }

    .filter-label {
        font-size: 0.8em;
    }

    .filter-select {
        padding: 6px 8px;
        font-size: 0.85em;
    }

    .deck-dropdown-btn {
        padding: 6px 8px;
        font-size: 0.85em;
    }

    .toggle-label {
        font-size: 0.8em;
    }

    .clear-sort-btn {
        padding: 8px 12px;
        font-size: 0.85em;
    }

    .bottom-section {
        padding: 0;
    }

    /* Table compact */
    .table-container {
        height: auto;
        max-height: 500px;
    }

    .table-header {
        font-size: 1.1em;
        margin-bottom: 8px;
    }

    .card-table th {
        padding: 6px 4px;
        font-size: 0.75em;
    }

    .card-table td {
        padding: 6px 4px;
        font-size: 0.8em;
    }

    /* Hide columns: Type(3), PWR(4), ELO/Play(6), Play Rate(7), Value Draft(8), When Played(9), Passing(10) */
    .card-table th:nth-child(3),
    .card-table td:nth-child(3),
    .card-table th:nth-child(4),
    .card-table td:nth-child(4),
    .card-table th:nth-child(6),
    .card-table td:nth-child(6),
    .card-table th:nth-child(7),
    .card-table td:nth-child(7),
    .card-table th:nth-child(8),
    .card-table td:nth-child(8),
    .card-table th:nth-child(9),
    .card-table td:nth-child(9),
    .card-table th:nth-child(10),
    .card-table td:nth-child(10) {
        display: none;
    }
}


/* Top section - white card */
.top-section {
    max-width: 900px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    margin-bottom: 40px;
}

.top-section h1 {
    color: #333;
    text-shadow: none;
}

.top-section .subtitle {
    color: #666;
}

/* Bottom section */
.bottom-section {
    max-width: 100%;
    padding: 0 20px;
}

.table-grid {
    display: grid;
    grid-template-columns: 220px 1fr;
    gap: 20px;
    align-items: start;
}

/* Filter sidebar */
.filter-sidebar {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    position: sticky;
    top: 20px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
}

.sidebar-title {
    font-weight: bold;
    font-size: 1.1em;
    margin-bottom: 10px;
    text-align: center;
    color: #333;
}

.filter-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.filter-label {
    font-weight: bold;
    font-size: 0.9em;
    color: #333;
}

.filter-select {
    padding: 10px 12px;
    border-radius: 8px;
    border: 2px solid #ddd;
    background: white;
    color: #333;
    font-size: 0.95em;
    cursor: pointer;
    transition: all 0.2s;
}

.filter-select:hover {
    border-color: #999;
}

.filter-select option {
    background: white;
    color: #333;
}

.deck-dropdown {
    position: relative;
}

.deck-dropdown-btn {
    width: 100%;
    padding: 10px 12px;
    border-radius: 8px;
    border: 2px solid #ddd;
    background: white;
    color: #333;
    font-size: 0.95em;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 32px;
}

.deck-dropdown-btn:hover {
    border-color: #999;
}

.deck-dropdown-menu {
    display: none;
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    background: white;
    border: 2px solid #ddd;
    border-radius: 8px;
    padding: 6px 0;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.deck-dropdown-menu.open {
    display: block;
}

.deck-dropdown-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    cursor: pointer;
    font-size: 0.9em;
    color: #333;
    user-select: none;
    transition: background 0.15s;
}

.deck-dropdown-item:hover {
    background: #f5f5f5;
}

.deck-dropdown-item input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
}

.deck-dropdown-divider {
    height: 1px;
    background: #eee;
    margin: 4px 0;
}

.toggle-row {
    display: flex;
    align-items: center;
    gap: 10px;
}

.toggle-label {
    font-size: 0.9em;
    color: #333;
    user-select: none;
}

.toggle-switch {
    position: relative;
    display: inline-block;
    width: 40px;
    height: 22px;
    flex-shrink: 0;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-track {
    position: absolute;
    cursor: pointer;
    inset: 0;
    background: #ccc;
    border-radius: 22px;
    transition: background 0.2s;
}

.toggle-track::before {
    content: '';
    position: absolute;
    height: 16px;
    width: 16px;
    left: 3px;
    bottom: 3px;
    background: white;
    border-radius: 50%;
    transition: transform 0.2s;
}

.toggle-switch input:checked + .toggle-track {
    background: #8B6914;
}

.toggle-switch input:checked + .toggle-track::before {
    transform: translateX(18px);
}

.clear-sort-btn {
    padding: 12px 16px;
    border-radius: 8px;
    border: none;
    background: #f0ad4e;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s, opacity 0.2s;
    text-align: center;
}

.clear-sort-btn:hover:not(:disabled) {
    background: #ec971f;
}

.clear-sort-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* Table container */
.table-container {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    height: 700px;
    display: flex;
    flex-direction: column;
}

.table-header {
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
    flex-shrink: 0;
    color: #333;
}

.table-wrapper {
    flex: 1;
    overflow-y: auto;
    overflow-x: auto;
    border-radius: 8px;
}

.card-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
}

.card-table thead {
    background: #f5f5f5;
    position: sticky;
    top: 0;
    z-index: 10;
}

.card-table th {
    padding: 12px 8px;
    text-align: left;
    font-weight: bold;
    font-size: 0.9em;
    border-bottom: 2px solid #ddd;
    background: #f5f5f5;
    cursor: pointer;
    user-select: none;
    position: relative;
    color: #333;
}

.card-table th:hover {
    background: #e8e8e8;
}

.card-table th.sortable::after {
    content: ' ⇅';
    opacity: 0.3;
    font-size: 0.8em;
}

.card-table th.sorted-asc::after {
    content: ' ↑';
    opacity: 1;
}

.card-table th.sorted-desc::after {
    content: ' ↓';
    opacity: 1;
}

/* Tooltip for column headers */
.col-header {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.help-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #999;
    color: white;
    font-size: 10px;
    font-weight: bold;
    cursor: help;
    position: relative;
}

.help-icon:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    white-space: normal;
    width: max-content;
    max-width: 240px;
    font-size: 12px;
    font-weight: normal;
    z-index: 1000;
    margin-top: 5px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    pointer-events: none;
}

.help-icon:hover::before {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 5px solid transparent;
    border-bottom-color: #333;
    margin-top: -5px;
    z-index: 1001;
}

.card-table td {
    padding: 10px 8px;
    border-bottom: 1px solid #eee;
    font-size: 0.9em;
    color: #333;
}

.card-table tbody tr {
    cursor: pointer;
    transition: background 0.2s;
}

.card-table tbody tr:hover {
    background: #f9f9f9;
}

.table-rank {
    font-weight: bold;
    color: #f0ad4e;
}

.table-name {
    font-weight: 500;
}

.table-type {
    font-size: 0.85em;
    opacity: 0.8;
}

.table-passing {
    text-align: center;
}

.passing-badge {
    display: inline-block;
    background: #f0ad4e;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.8em;
}

/* Gradient cell styles */
.cell-gradient {
    transition: background-color 0.3s;
}

.no-results {
    text-align: center;
    padding: 40px;
    font-size: 1.2em;
    opacity: 0.7;
}

/* Custom scrollbar */
.table-wrapper::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

.table-wrapper::-webkit-scrollbar-track {
    background: #f5f5f5;
    border-radius: 6px;
}

.table-wrapper::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 6px;
}

.table-wrapper::-webkit-scrollbar-thumb:hover {
    background: #999;
}

/* Responsive adjustments */
@media (max-width: 900px) {
    .table-grid {
        grid-template-columns: 1fr;
    }

    .filter-sidebar {
        position: relative;
        top: 0;
    }
}

/* Strategy tag pills */
.card-tag-pill {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.85em;
    font-weight: 500;
    color: white;
    white-space: nowrap;
}

.tag-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-left: 4px;
    vertical-align: middle;
    cursor: pointer;
    position: relative;
}
.tag-dot::after {
    content: attr(data-tag);
    position: absolute;
    bottom: calc(100% + 4px);
    left: 50%;
    transform: translateX(-50%);
    background: inherit;
    color: #fff;
    font-size: 0.65rem;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 4px;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s ease;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}
.tag-dot:hover {
    transform: scale(1.3);
    transition: transform 0.15s ease;
}
.tag-dot:hover::after {
    opacity: 1;
}

    </style>
</head>
<body>
    <nav class="nav-bar">
        <a href="index.html" class="nav-link active">Card Lookup</a>
        <a href="draft.html" class="nav-link">Draft Tool</a>
    </nav>
    <div class="top-section">
        <h1><img id="titleIcon" src="" alt="" class="title-icon"> Grics Rankings</h1>
        <p class="subtitle">Search and explore Agricola card rankings</p>
        
        <div class="search-section">
            <input type="text" 
                   id="searchInput" 
                   class="search-input" 
                   placeholder="Search for a card..." 
                   autocomplete="off">
            <div id="suggestions" class="suggestions"></div>
        </div>
        
        <div id="results" class="results"></div>
    </div>
    
    <div class="bottom-section">
        <div class="table-grid">
            <div class="filter-sidebar">
                <div class="sidebar-title" id="sidebarToggle">Filters & Sort</div>

                <div class="filter-content" id="filterContent">
                    <div class="filter-group">
                        <label class="filter-label">Type</label>
                        <select id="typeFilter" class="filter-select">
                            <option value="all">All Types</option>
                            <option value="occupation">Occupation</option>
                            <option value="minor">Minor Improvement</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Passing</label>
                        <select id="passingFilter" class="filter-select">
                            <option value="all">All Cards</option>
                            <option value="passing">Passing Only</option>
                            <option value="not-passing">Not Passing</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Deck</label>
                        <div class="deck-dropdown">
                            <button type="button" class="deck-dropdown-btn" id="deckDropdownBtn">All Decks</button>
                            <div class="deck-dropdown-menu" id="deckDropdownMenu">
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" id="deckAll" checked>
                                    <span>All Decks</span>
                                </label>
                                <div class="deck-dropdown-divider"></div>
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" class="deck-cb" value="A" checked>
                                    <span>Deck A</span>
                                </label>
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" class="deck-cb" value="B" checked>
                                    <span>Deck B</span>
                                </label>
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" class="deck-cb" value="C" checked>
                                    <span>Deck C</span>
                                </label>
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" class="deck-cb" value="D" checked>
                                    <span>Deck D</span>
                                </label>
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" class="deck-cb" value="E" checked>
                                    <span>Deck E</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Prerequisites</label>
                        <select id="prerequisitesFilter" class="filter-select">
                            <option value="all">All Cards</option>
                            <option value="has-prereqs">Has Prerequisites</option>
                            <option value="no-prereqs">No Prerequisites</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Strategy</label>
                        <div class="deck-dropdown" id="strategyDropdown">
                            <button type="button" class="deck-dropdown-btn" id="strategyDropdownBtn">All Strategies</button>
                            <div class="deck-dropdown-menu" id="strategyDropdownMenu">
                                <label class="deck-dropdown-item">
                                    <input type="checkbox" id="strategyAll" checked>
                                    <span>All Strategies</span>
                                </label>
                                <div class="deck-dropdown-divider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="toggle-row">
                        <label class="toggle-switch">
                            <input type="checkbox" id="gradientToggle" checked>
                            <span class="toggle-track"></span>
                        </label>
                        <span class="toggle-label">Color Gradients</span>
                    </div>

                    <button id="clearSortBtn" class="clear-sort-btn">Clear Sort</button>
                </div>
            </div>
            
            <div class="table-container">
                <div class="table-header">All Cards (773)</div>
                <div class="table-wrapper">
                    <table class="card-table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort="rank">
                                    <span class="col-header">Rank</span>
                                </th>
                                <th class="sortable" data-sort="name">
                                    <span class="col-header">Name</span>
                                </th>
                                <th class="sortable" data-sort="type">
                                    <span class="col-header">Type</span>
                                </th>
                                <th class="sortable" data-sort="pwr">
                                    <span class="col-header">
                                        PWR
                                        <span class="help-icon" data-tooltip="Calculated by multiplying PLAY percentage x WIN percentage, then dividing by 7">?</span>
                                    </span>
                                </th>
                                <th class="sortable" data-sort="adp">
                                    <span class="col-header">
                                        ADP
                                        <span class="help-icon" data-tooltip="Average draft position">?</span>
                                    </span>
                                </th>
                                <th class="sortable" data-sort="eloplay">
                                    <span class="col-header">
                                        ELO / Play
                                        <span class="help-icon" data-tooltip="Average Elo won or lost across all times the card was played">?</span>
                                    </span>
                                </th>
                                <th class="sortable" data-sort="playrate">
                                    <span class="col-header">
                                        Play Rate
                                        <span class="help-icon" data-tooltip="% of times drafted the card is played">?</span>
                                    </span>
                                </th>
                                <th class="sortable" data-sort="value">
                                    <span class="col-header">
                                        Value Draft
                                        <span class="help-icon" data-tooltip="ADP * ELO/Play - Higher for cards that are drafted later but have high ELO">?</span>
                                    </span>
                                </th>
                                <th class="sortable" data-sort="valueplayed">
                                    <span class="col-header">
                                        When Played
                                        <span class="help-icon" data-tooltip="Calculated by ELO/Play * (1/play rate) - Represents that the card is valuable when played, giving a boost to cards that are played less frequently">?</span>
                                    </span>
                                </th>
                                <th>
                                    <span class="col-header">
                                        Passing
                                        <span class="help-icon" data-tooltip="If this is a passing minor or not">?</span>
                                    </span>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="cardTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/card-image-list.js"></script>
    <script src="js/tag-definitions.js"></script>
    <script>
// Load card data from JSON (single source of truth — includes tags)
let cards = [];

function initApp() {
    console.log(`Loaded ${cards.length} cards`);


// Get DOM elements
const searchInput = document.getElementById('searchInput');
const suggestionsDiv = document.getElementById('suggestions');
const resultsDiv = document.getElementById('results');
const tableBody = document.getElementById('cardTableBody');
const typeFilter = document.getElementById('typeFilter');
const passingFilter = document.getElementById('passingFilter');
const clearSortBtn = document.getElementById('clearSortBtn');
const tableHeader = document.querySelector('.table-header');
const gradientToggle = document.getElementById('gradientToggle');

// State for sorting, filtering, and gradients
let currentSort = { column: 'rank', direction: 'asc' };
const ALL_STRATEGY_TAGS = Object.keys(TAG_DEFINITIONS);
let currentFilters = { type: 'all', passing: 'all', decks: ['A', 'B', 'C', 'D', 'E'], prerequisites: 'all', strategy: [...ALL_STRATEGY_TAGS] };
let gradientsEnabled = true;

// Calculate min/max for gradients
const playRates = cards.map(c => parseFloat(c.play_rate)).filter(v => !isNaN(v));
const values = cards.map(c => parseFloat(c.value)).filter(v => !isNaN(v));
const valuesPlayed = cards.map(c => parseFloat(c.value_when_played)).filter(v => !isNaN(v));
const eloPerPlays = cards.map(c => parseFloat(c.elo_per_play)).filter(v => !isNaN(v));

const minPlayRate = Math.min(...playRates);
const maxPlayRate = Math.max(...playRates);
const minValue = Math.min(...values);
const maxValue = Math.max(...values);
const minValuePlayed = Math.min(...valuesPlayed);
const maxValuePlayed = Math.max(...valuesPlayed);
const minEloPerPlay = Math.min(...eloPerPlays);
const maxEloPerPlay = Math.max(...eloPerPlays);

// Gradient calculation functions
function getPlayRateGradient(playRate) {
    if (!gradientsEnabled) return '';
    const value = parseFloat(playRate);
    if (isNaN(value)) return '';
    const normalized = value / 100;
    const r = Math.round(255 - (normalized * 100));
    const g = Math.round(255 - (normalized * 55));
    const b = Math.round(255 - (normalized * 100));
    return `rgb(${r}, ${g}, ${b})`;
}

function getValueGradient(value) {
    if (!gradientsEnabled) return '';
    const val = parseFloat(value);
    if (isNaN(val)) return '';
    const normalized = Math.min(val / maxValue, 1);
    const r = Math.round(255 - (normalized * 100));
    const g = Math.round(255 - (normalized * 55));
    const b = Math.round(255 - (normalized * 100));
    return `rgb(${r}, ${g}, ${b})`;
}

function getValuePlayedGradient(value) {
    if (!gradientsEnabled) return '';
    const val = parseFloat(value);
    if (isNaN(val)) return '';

    if (val < 0) {
        const normalized = Math.max((val + 10) / 10, 0);
        const r = 255;
        const g = Math.round(155 + (normalized * 100));
        const b = Math.round(155 + (normalized * 100));
        return `rgb(${r}, ${g}, ${b})`;
    } else {
        const normalized = Math.min(val / maxValuePlayed, 1);
        const r = Math.round(255 - (normalized * 100));
        const g = Math.round(255 - (normalized * 55));
        const b = Math.round(255 - (normalized * 100));
        return `rgb(${r}, ${g}, ${b})`;
    }
}

function getEloPerPlayGradient(eloPerPlay) {
    if (!gradientsEnabled) return '';
    const val = parseFloat(eloPerPlay);
    if (isNaN(val)) return '';

    if (val < 0) {
        // Red for negative values
        const normalized = Math.max((val - minEloPerPlay) / (0 - minEloPerPlay), 0);
        const r = 255;
        const g = Math.round(155 + (normalized * 100));
        const b = Math.round(155 + (normalized * 100));
        return `rgb(${r}, ${g}, ${b})`;
    } else {
        // White to Green for positive values
        const normalized = Math.min(val / maxEloPerPlay, 1);
        const r = Math.round(255 - (normalized * 100));
        const g = Math.round(255 - (normalized * 55));
        const b = Math.round(255 - (normalized * 100));
        return `rgb(${r}, ${g}, ${b})`;
    }
}

// Update clear sort button state
function updateClearSortButton() {
    if (currentSort.column === 'rank' && currentSort.direction === 'asc') {
        clearSortBtn.disabled = true;
    } else {
        clearSortBtn.disabled = false;
    }
}

// Filter and sort cards
function getFilteredAndSortedCards() {
    let filtered = cards.filter(card => {
        if (currentFilters.type !== 'all') {
            if (currentFilters.type === 'minor' && card.type !== 'Minor Improvement') return false;
            if (currentFilters.type === 'occupation' && card.type !== 'Occupation') return false;
        }
        
        if (currentFilters.passing !== 'all') {
            if (currentFilters.passing === 'passing' && !card.passing) return false;
            if (currentFilters.passing === 'not-passing' && card.passing) return false;
        }

        if (currentFilters.decks.length < 5) {
            const cardDeck = card.card_id ? card.card_id.charAt(0) : '';
            if (!currentFilters.decks.includes(cardDeck)) return false;
        }

        if (currentFilters.prerequisites !== 'all') {
            const hasPrereqs = card.prerequisites && card.prerequisites.trim() !== '';
            if (currentFilters.prerequisites === 'has-prereqs' && !hasPrereqs) return false;
            if (currentFilters.prerequisites === 'no-prereqs' && hasPrereqs) return false;
        }

        if (currentFilters.strategy.length < ALL_STRATEGY_TAGS.length) {
            if (!card.tags || !card.tags.some(t => currentFilters.strategy.includes(t))) return false;
        }

        return true;
    });
    
    filtered.sort((a, b) => {
        let aVal, bVal;
        
        switch(currentSort.column) {
            case 'rank':
                aVal = parseInt(a.rank);
                bVal = parseInt(b.rank);
                break;
            case 'name':
                aVal = a.name.toLowerCase();
                bVal = b.name.toLowerCase();
                break;
            case 'type':
                aVal = a.type || '';
                bVal = b.type || '';
                break;
            case 'pwr':
                aVal = parseFloat(a.pwr);
                bVal = parseFloat(b.pwr);
                break;
            case 'eloplay':
                aVal = parseFloat(a.elo_per_play) || 0;
                bVal = parseFloat(b.elo_per_play) || 0;
                break;
            case 'adp':
                aVal = parseFloat(a.adp);
                bVal = parseFloat(b.adp);
                break;
            case 'playrate':
                aVal = parseFloat(a.play_rate);
                bVal = parseFloat(b.play_rate);
                break;
            case 'value':
                aVal = parseFloat(a.value) || 0;
                bVal = parseFloat(b.value) || 0;
                break;
            case 'valueplayed':
                aVal = parseFloat(a.value_when_played) || 0;
                bVal = parseFloat(b.value_when_played) || 0;
                break;
            default:
                return 0;
        }
        
        if (aVal < bVal) return currentSort.direction === 'asc' ? -1 : 1;
        if (aVal > bVal) return currentSort.direction === 'asc' ? 1 : -1;
        return 0;
    });
    
    return filtered;
}

// Render table
function renderTable() {
    const cardsToShow = getFilteredAndSortedCards();
    
    // Update header text
    if (cardsToShow.length === cards.length) {
        tableHeader.textContent = `All Cards (${cards.length})`;
    } else {
        tableHeader.textContent = `${cardsToShow.length} / ${cards.length} Cards`;
    }
    
    tableBody.innerHTML = cardsToShow.map(card => {
        const playRateColor = getPlayRateGradient(card.play_rate);
        const valueColor = getValueGradient(card.value);
        const valuePlayedColor = getValuePlayedGradient(card.value_when_played);
        const eloPerPlayColor = getEloPerPlayGradient(card.elo_per_play);

        const tagDots = (card.tags || []).map(tag => {
            const def = TAG_DEFINITIONS[tag];
            return def ? `<span class="tag-dot" style="background:${def.color}" data-tag="${tag}" title="${tag}"></span>` : '';
        }).join('');

        return `
        <tr data-name="${card.name}">
            <td class="table-rank">#${card.rank}</td>
            <td class="table-name">${card.name}${tagDots}</td>
            <td class="table-type">${card.type || 'N/A'}</td>
            <td>${card.pwr}</td>
            <td>${card.adp}</td>
            <td class="cell-gradient" style="background-color: ${eloPerPlayColor}">${card.elo_per_play || 'N/A'}</td>
            <td class="cell-gradient" style="background-color: ${playRateColor}">${card.play_rate}</td>
            <td class="cell-gradient" style="background-color: ${valueColor}">${card.value ? parseFloat(card.value).toFixed(2) : 'N/A'}</td>
            <td class="cell-gradient" style="background-color: ${valuePlayedColor}">${card.value_when_played ? parseFloat(card.value_when_played).toFixed(1) : 'N/A'}</td>
            <td class="table-passing">${card.passing ? '<span class="passing-badge">Passing</span>' : ''}</td>
        </tr>
        `;
    }).join('');
    
    document.querySelectorAll('#cardTableBody tr').forEach(row => {
        row.addEventListener('click', () => {
            const cardName = row.dataset.name;
            const card = cards.find(c => c.name === cardName);
            displayCard(card);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    });
    
    document.querySelectorAll('.card-table th').forEach(th => {
        th.classList.remove('sorted-asc', 'sorted-desc');
    });
    const sortedHeader = document.querySelector(`th[data-sort="${currentSort.column}"]`);
    if (sortedHeader) {
        sortedHeader.classList.add(currentSort.direction === 'asc' ? 'sorted-asc' : 'sorted-desc');
    }
    
    updateClearSortButton();
}

document.querySelectorAll('.card-table th[data-sort]').forEach(th => {
    th.addEventListener('click', () => {
        const column = th.dataset.sort;
        
        if (currentSort.column === column) {
            currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
        } else {
            currentSort.column = column;
            currentSort.direction = 'asc';
        }
        
        renderTable();
    });
});

typeFilter.addEventListener('change', (e) => {
    currentFilters.type = e.target.value;
    renderTable();
});

passingFilter.addEventListener('change', (e) => {
    currentFilters.passing = e.target.value;
    renderTable();
});

const deckAll = document.getElementById('deckAll');
const deckCheckboxes = document.querySelectorAll('.deck-cb');
const deckDropdownBtn = document.getElementById('deckDropdownBtn');
const deckDropdownMenu = document.getElementById('deckDropdownMenu');
const prerequisitesFilter = document.getElementById('prerequisitesFilter');

function updateDeckButtonText() {
    if (currentFilters.decks.length === 5) {
        deckDropdownBtn.textContent = 'All Decks';
    } else if (currentFilters.decks.length === 0) {
        deckDropdownBtn.textContent = 'No Decks';
    } else {
        deckDropdownBtn.textContent = currentFilters.decks.join(', ');
    }
}

deckDropdownBtn.addEventListener('click', () => {
    deckDropdownMenu.classList.toggle('open');
});

document.addEventListener('click', (e) => {
    if (!e.target.closest('.deck-dropdown')) {
        deckDropdownMenu.classList.remove('open');
    }
});

deckAll.addEventListener('change', (e) => {
    const checked = e.target.checked;
    deckCheckboxes.forEach(cb => cb.checked = checked);
    currentFilters.decks = checked ? ['A', 'B', 'C', 'D', 'E'] : [];
    updateDeckButtonText();
    renderTable();
});

deckCheckboxes.forEach(cb => {
    cb.addEventListener('change', () => {
        currentFilters.decks = Array.from(deckCheckboxes)
            .filter(c => c.checked)
            .map(c => c.value);
        deckAll.checked = currentFilters.decks.length === 5;
        updateDeckButtonText();
        renderTable();
    });
});

prerequisitesFilter.addEventListener('change', (e) => {
    currentFilters.prerequisites = e.target.value;
    renderTable();
});

// Strategy multi-select dropdown (dynamically built from TAG_DEFINITIONS)
const strategyDropdownBtn = document.getElementById('strategyDropdownBtn');
const strategyDropdownMenu = document.getElementById('strategyDropdownMenu');
const strategyAllCheckbox = document.getElementById('strategyAll');

// Populate strategy checkboxes from TAG_DEFINITIONS
ALL_STRATEGY_TAGS.forEach(tag => {
    const def = TAG_DEFINITIONS[tag];
    const label = document.createElement('label');
    label.className = 'deck-dropdown-item';
    label.innerHTML = `<input type="checkbox" class="strategy-cb" value="${tag}" checked>`
        + `<span class="tag-dot" style="background:${def.color};display:inline-block;width:10px;height:10px;border-radius:50%;flex-shrink:0"></span>`
        + `<span>${tag}</span>`;
    strategyDropdownMenu.appendChild(label);
});

const strategyCheckboxes = document.querySelectorAll('.strategy-cb');

function updateStrategyButtonText() {
    if (currentFilters.strategy.length === ALL_STRATEGY_TAGS.length) {
        strategyDropdownBtn.textContent = 'All Strategies';
    } else if (currentFilters.strategy.length === 0) {
        strategyDropdownBtn.textContent = 'No Strategies';
    } else if (currentFilters.strategy.length <= 2) {
        strategyDropdownBtn.textContent = currentFilters.strategy.join(', ');
    } else {
        strategyDropdownBtn.textContent = `${currentFilters.strategy.length} strategies`;
    }
}

strategyDropdownBtn.addEventListener('click', () => {
    strategyDropdownMenu.classList.toggle('open');
});

document.addEventListener('click', (e) => {
    if (!e.target.closest('#strategyDropdown')) {
        strategyDropdownMenu.classList.remove('open');
    }
});

strategyAllCheckbox.addEventListener('change', (e) => {
    const checked = e.target.checked;
    strategyCheckboxes.forEach(cb => cb.checked = checked);
    currentFilters.strategy = checked ? [...ALL_STRATEGY_TAGS] : [];
    updateStrategyButtonText();
    renderTable();
});

strategyCheckboxes.forEach(cb => {
    cb.addEventListener('change', () => {
        currentFilters.strategy = Array.from(strategyCheckboxes)
            .filter(c => c.checked)
            .map(c => c.value);
        strategyAllCheckbox.checked = currentFilters.strategy.length === ALL_STRATEGY_TAGS.length;
        updateStrategyButtonText();
        renderTable();
    });
});

clearSortBtn.addEventListener('click', () => {
    currentSort = { column: 'rank', direction: 'asc' };
    renderTable();
});

gradientToggle.addEventListener('change', (e) => {
    gradientsEnabled = e.target.checked;
    renderTable();
});

renderTable();

// Mobile filter sidebar toggle
document.getElementById('sidebarToggle').addEventListener('click', () => {
    document.querySelector('.filter-sidebar').classList.toggle('open');
});

searchInput.addEventListener('input', (e) => {
    const query = e.target.value.trim().toLowerCase();
    
    if (query.length === 0) {
        suggestionsDiv.classList.remove('active');
        suggestionsDiv.innerHTML = '';
        return;
    }
    
    const matches = cards
        .filter(card => card.name.toLowerCase().includes(query))
        .slice(0, 10);
    
    if (matches.length === 0) {
        suggestionsDiv.classList.remove('active');
        suggestionsDiv.innerHTML = '';
        return;
    }
    
    suggestionsDiv.innerHTML = matches
        .map(card => `
            <div class="suggestion-item" data-name="${card.name}">
                <span class="suggestion-rank">#${card.rank}</span>
                <span class="suggestion-name">${card.name}</span>
                <span class="suggestion-pwr">PWR: ${card.pwr}</span>
            </div>
        `)
        .join('');
    
    suggestionsDiv.classList.add('active');
    
    document.querySelectorAll('.suggestion-item').forEach(item => {
        item.addEventListener('click', () => {
            const cardName = item.dataset.name;
            const card = cards.find(c => c.name === cardName);
            displayCard(card);
            searchInput.value = cardName;
            suggestionsDiv.classList.remove('active');
        });
    });
});

searchInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
        const query = e.target.value.trim().toLowerCase();
        
        let match = cards.find(card => 
            card.name.toLowerCase() === query
        );
        
        if (!match) {
            match = cards.find(card => 
                card.name.toLowerCase().includes(query)
            );
        }
        
        if (match) {
            displayCard(match);
            searchInput.value = match.name;
            suggestionsDiv.classList.remove('active');
        } else {
            resultsDiv.innerHTML = '<div class="no-results">No cards found</div>';
        }
    }
});

document.addEventListener('click', (e) => {
    if (!e.target.closest('.search-section')) {
        suggestionsDiv.classList.remove('active');
    }
});

// CARD_IMAGE_LIST is loaded from card-image-list.js
const cardImageMap = {};
const imageFiles = CARD_IMAGE_LIST;

function normalizeForMatch(str) {
    return str.toLowerCase()
        .normalize('NFD').replace(/[\u0300-\u036f]/g, '')
        .replace(/[\s\-'\.]/g, '');
}

imageFiles.forEach(filename => {
    const nameWithoutExt = filename.replace(/\.png$/, '');
    const normalized = normalizeForMatch(nameWithoutExt);
    cardImageMap[normalized] = filename;
});

function getCardImagePath(cardName) {
    const normalized = normalizeForMatch(cardName);
    const filename = cardImageMap[normalized];
    return filename ? `card-images/${filename}` : null;
}

function displayCard(card) {
    if (!card) {
        resultsDiv.innerHTML = '<div class="no-results">Card not found</div>';
        return;
    }

    const typeLabel = card.type ? `<div class="card-type">${card.type}</div>` : '';
    const idLabel = card.card_id ? `<div class="card-id">${card.card_id}</div>` : '';
    const costLabel = card.cost ? `<div class="card-cost">Cost: ${card.cost}</div>` : '';
    const vpsLabel = card.vps ? `<div class="card-vps">VPs: ${card.vps}</div>` : '';
    const tagsHtml = (card.tags || []).map(tag => {
        const def = TAG_DEFINITIONS[tag];
        return def ? `<div class="card-tag-pill" style="background:${def.color}">${tag}</div>` : '';
    }).join('');

    const imagePath = getCardImagePath(card.name);

    const description = card.description ?
        `<div class="card-description">${card.description}</div>` :
        '<div class="card-description no-desc">No description available</div>';

    const descriptionWithTitle = card.description ?
        `<div class="card-description"><div class="card-description-title">Description</div>${card.description}</div>` :
        '<div class="card-description no-desc"><div class="card-description-title">Description</div>No description available</div>';

    const prerequisites = card.prerequisites ?
        `<div class="card-prerequisites"><strong>Prerequisites:</strong> ${card.prerequisites}</div>` : '';

    const statsHtml = `
        <div class="card-stats">
            <div class="stat">
                <div class="stat-label">Power (PWR)</div>
                <div class="stat-value">${card.pwr}</div>
            </div>
            <div class="stat">
                <div class="stat-label">Draft Position (ADP)</div>
                <div class="stat-value">${card.adp}</div>
            </div>
            <div class="stat">
                <div class="stat-label">Play Rate</div>
                <div class="stat-value">${card.play_rate}</div>
            </div>
            <div class="stat">
                <div class="stat-label">Elo per Play</div>
                <div class="stat-value">${card.elo_per_play || 'N/A'}</div>
            </div>
            <div class="stat">
                <div class="stat-label">Value Draft</div>
                <div class="stat-value">${card.value ? parseFloat(card.value).toFixed(2) : 'N/A'}</div>
            </div>
            <div class="stat">
                <div class="stat-label">Value When Played</div>
                <div class="stat-value">${card.value_when_played ? parseFloat(card.value_when_played).toFixed(1) : 'N/A'}</div>
            </div>
        </div>`;

    if (imagePath) {
        resultsDiv.innerHTML = `
            <div class="card-result">
                <div class="card-result-with-image">
                    <div class="card-image-container">
                        <img src="${imagePath}" alt="${card.name}">
                    </div>
                    <div class="card-info">
                        <div class="card-header">
                            <div class="card-title-row">
                                <div class="card-name">${card.name}</div>
                                <div class="card-rank">Rank #${card.rank}</div>
                            </div>
                            <div class="card-meta">
                                ${typeLabel}
                                ${idLabel}
                                ${costLabel}
                                ${vpsLabel}
                                ${tagsHtml}
                            </div>
                        </div>
                        ${statsHtml}
                    </div>
                </div>
            </div>
        `;
    } else {
        resultsDiv.innerHTML = `
            <div class="card-result">
                <div class="card-result-with-image">
                    <div class="card-text-column">
                        ${prerequisites}
                        ${descriptionWithTitle}
                    </div>
                    <div class="card-info">
                        <div class="card-header">
                            <div class="card-title-row">
                                <div class="card-name">${card.name}</div>
                                <div class="card-rank">Rank #${card.rank}</div>
                            </div>
                            <div class="card-meta">
                                ${typeLabel}
                                ${idLabel}
                                ${costLabel}
                                ${vpsLabel}
                                ${tagsHtml}
                            </div>
                        </div>
                        ${statsHtml}
                    </div>
                </div>
            </div>
        `;
    }
}

} // end initApp

// Fetch card data and initialize
fetch('data/agricola-cards.json')
    .then(res => res.json())
    .then(data => { cards = data; initApp(); })
    .catch(err => {
        console.error('Failed to load card data:', err);
        document.querySelector('.table-header').textContent = 'Error loading card data';
    });

// Random resource icon for title and favicon
const RESOURCE_ICONS = [
    'Icons/Grain.webp', 'Icons/Wood.png', 'Icons/Clay.png',
    'Icons/Reed.webp', 'Icons/Stone.png', 'Icons/Sheep.webp',
    'Icons/Cow.webp', 'Icons/Pig.webp', 'Icons/Veg.webp',
    'Icons/Cornucopia.webp'
];
const randomIcon = RESOURCE_ICONS[Math.floor(Math.random() * RESOURCE_ICONS.length)];
document.getElementById('titleIcon').src = randomIcon;
const favicon = document.querySelector('link[rel="icon"]');
favicon.href = randomIcon;

    </script>
</body>
</html>